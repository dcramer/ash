# Ash Configuration Example
# Copy this file to ~/.ash/config.toml and customize
#
# All paths default to $ASH_HOME (default: ~/.ash)
# Override ASH_HOME env var to change the base directory

# Path to workspace containing SOUL.md, USER.md, etc.
# Default: $ASH_HOME/workspace
# workspace = "/path/to/custom/workspace"

# =============================================================================
# Model Configuration (Named Aliases)
# =============================================================================
# Define named model configurations with [models.<alias>] sections.
# Use --model <alias> or ASH_MODEL=<alias> to select a model.
# The "default" alias is required and used when no model is specified.

[models.default]
provider = "anthropic"
model = "claude-sonnet-4-5-20250929"
temperature = 0.7
max_tokens = 4096

[models.fast]
provider = "anthropic"
model = "claude-3-5-haiku-20241022"
temperature = 0.5
max_tokens = 2048

# Example OpenAI model (uncomment to use)
# [models.gpt4]
# provider = "openai"
# model = "gpt-4o"
# temperature = 0.7
# max_tokens = 4096

# =============================================================================
# Provider API Keys
# =============================================================================
# API keys can be set here or via environment variables:
# - ANTHROPIC_API_KEY for Anthropic
# - OPENAI_API_KEY for OpenAI

[anthropic]
# api_key = "sk-ant-..."  # Or set ANTHROPIC_API_KEY env var

[openai]
# api_key = "sk-..."  # Or set OPENAI_API_KEY env var

# =============================================================================
# Backward Compatibility (Deprecated)
# =============================================================================
# The [default_llm] and [fallback_llm] sections still work for backward
# compatibility but are deprecated. Use [models.<alias>] instead.
#
# [default_llm]
# provider = "anthropic"
# model = "claude-sonnet-4-5-20250929"
# temperature = 0.7
# max_tokens = 4096

# Telegram provider (optional)
[telegram]
# bot_token loaded from TELEGRAM_BOT_TOKEN env var
allowed_users = []  # Empty = allow all. Use "@username" or "123456789" (user ID)
# webhook_url = "https://your-domain.com/webhook/telegram"  # Optional, uses polling if omitted

# Docker sandbox settings (run `ash sandbox build` first)
# The sandbox is MANDATORY - all bash commands run in isolated containers
[sandbox]
image = "ash-sandbox:latest"
timeout = 60
memory_limit = "512m"
cpu_limit = 1.0

# Runtime: "runc" (default) or "runsc" (gVisor for enhanced security)
runtime = "runc"

# Network: "none" = fully isolated, "bridge" = has network access
network_mode = "bridge"
# dns_servers = ["1.1.1.1", "8.8.8.8"]  # Custom DNS for filtering
# http_proxy = "http://localhost:8888"  # Route traffic through proxy for monitoring

# Workspace mounting: "none", "ro" (read-only), "rw" (read-write)
workspace_access = "rw"

# HTTP server settings
[server]
host = "127.0.0.1"
port = 8080
webhook_path = "/webhook"

# Memory/database settings
[memory]
# database_path = "/path/to/custom/memory.db"  # Default: $ASH_HOME/data/memory.db
embedding_model = "text-embedding-3-small"
max_context_messages = 20

# Brave Search API (optional)
[brave_search]
# api_key loaded from BRAVE_SEARCH_API_KEY env var
