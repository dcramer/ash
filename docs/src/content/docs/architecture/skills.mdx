---
title: Skills
description: Reusable instruction files for the agent
sidebar:
  order: 4
---

import { Aside, FileTree } from '@astrojs/starlight/components';

Skills are reusable instruction files that extend the agent's capabilities. Unlike tools (which execute code), skills are instruction sets that the agent reads and follows.

## How Skills Work

When a skill is invoked:

1. The agent reads the skill's instructions (markdown content)
2. The agent follows the instructions using available tools
3. No code execution happens - the agent just follows the steps

This makes skills powerful for complex workflows that combine multiple tools.

## Skill Formats

Skills can be defined in two formats:

### Directory Format (Preferred)

```
~/.ash/workspace/skills/
└── my-skill/
    ├── SKILL.md      # Required: skill definition
    ├── scripts/      # Optional: helper scripts
    ├── references/   # Optional: reference docs
    └── assets/       # Optional: other files
```

The skill name comes from the directory name.

### Flat File Format

```
~/.ash/workspace/skills/my-skill.md
```

The skill name comes from the filename.

## Skill Definition

Skills use markdown files with YAML frontmatter:

```markdown
---
description: What the skill does (required)
requires:
  bins:
    - curl
    - jq
  env:
    - API_KEY
  os:
    - darwin
    - linux
allowed_tools:
  - bash
  - web_search
input_schema:
  type: object
  properties:
    query:
      type: string
      description: Search query
---

## Instructions

Step-by-step instructions the agent will follow...

## Implementation

Details about how to accomplish the task...
```

## Frontmatter Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `description` | string | Yes | One-line description shown to the agent |
| `requires` | object | No | System requirements for availability |
| `allowed_tools` | list | No | Tools the skill needs |
| `input_schema` | object | No | JSON Schema for skill inputs |

### Requirements

Skills can specify system requirements. If requirements aren't met, the skill is hidden from the agent.

```yaml
requires:
  bins:           # Required binaries (must be in PATH)
    - curl
    - jq
  env:            # Required environment variables
    - API_KEY
    - SECRET_TOKEN
  os:             # Supported operating systems
    - darwin      # macOS
    - linux
    - windows
```

## Skill Instructions

The markdown body contains instructions the agent follows. Write them as clear, actionable steps:

```markdown
---
description: Search for code examples on GitHub
---

## Steps

1. Use `bash` to search GitHub with curl
2. Parse the JSON response with jq
3. Format the results as a markdown list

## Example Command

\`\`\`bash
curl -s "https://api.github.com/search/code?q=$query" \
  -H "Accept: application/vnd.github.v3+json"
\`\`\`

## Output Format

Return results as:
- **Repository**: owner/repo
- **Path**: file path
- **URL**: link to file
```

## Skill Registry

Location: `src/ash/skills/registry.py`

Skills are discovered from the workspace:

```python
registry = SkillRegistry()
registry.discover(workspace_path)

skill = registry.get("my-skill")
available_skills = registry.list_available()
```

## Creating Skills

### Using the CLI

```bash
# Create a new skill directory
uv run ash skill init my-skill

# Create with description
uv run ash skill init my-skill -d "Do something useful"

# Create with resource directories
uv run ash skill init my-skill --resources scripts,references
```

### Manual Creation

1. Create directory: `~/.ash/workspace/skills/my-skill/`
2. Create `SKILL.md` with frontmatter and instructions
3. Add optional resource directories as needed

### Validating Skills

```bash
# Validate a skill file
uv run ash skill validate ~/.ash/workspace/skills/my-skill

# List all available skills
uv run ash skill list

# Include unavailable skills
uv run ash skill list --all
```

## Skill Resources

Skills in directory format can include resource directories:

<FileTree>
- my-skill/
  - SKILL.md
  - scripts/
    - helper.sh
    - process.py
  - references/
    - api-docs.md
    - examples.json
  - assets/
    - template.txt
</FileTree>

Reference resources in instructions using relative paths from the skill directory.

## Example Skill

```markdown
---
description: Search and summarize GitHub issues
requires:
  env:
    - GITHUB_TOKEN
allowed_tools:
  - bash
  - web_fetch
---

## Instructions

When asked to find GitHub issues:

1. Use bash to call the GitHub API:
   \`\`\`bash
   curl -s "https://api.github.com/repos/$owner/$repo/issues" \
     -H "Authorization: Bearer $GITHUB_TOKEN"
   \`\`\`

2. Parse the JSON response to extract:
   - Issue number
   - Title
   - State (open/closed)
   - Labels

3. Format as a markdown table

## Notes

- Respect rate limits (5000 requests/hour with auth)
- Filter by state using `?state=open` or `?state=closed`
```

<Aside type="tip">
  Skills are instruction-based, not script-based. Write clear steps the agent can follow using its available tools.
</Aside>
