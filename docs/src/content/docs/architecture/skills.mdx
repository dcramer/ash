---
title: Skills
description: Reusable instruction files for the agent
sidebar:
  order: 4
---

import { Aside, FileTree } from '@astrojs/starlight/components';

Skills are reusable instruction files that extend the agent's capabilities. Unlike tools (which execute code), skills are instruction sets that the agent reads and follows.

## How Skills Work

When a skill is invoked:

1. The agent reads the skill's instructions (markdown content)
2. The agent follows the instructions using available tools
3. No code execution happens - the agent just follows the steps

This makes skills powerful for complex workflows that combine multiple tools.

## Skill Sources

Skills are loaded from multiple sources in order of precedence (later sources override earlier):

| Priority | Source | Location | Description |
|----------|--------|----------|-------------|
| 1 (lowest) | Bundled | Built-in | Skills bundled with Ash |
| 2 | Installed | `~/.ash/skills.installed/` | External repos and local paths |
| 3 | User | `~/.ash/skills/` | User-created skills |
| 4 (highest) | Workspace | `workspace/skills/` | Project-specific skills |

This allows workspace skills to override installed skills, and installed skills to override bundled ones.

## Installing External Skills

Install skills from GitHub repos or local paths using the CLI:

```bash
# From GitHub
ash skill add anthropic/skills

# Pin to version
ash skill add anthropic/skills@v1.0.0

# From local path
ash skill add ~/my-local-skills
```

The CLI adds sources to `config.toml` and installs them immediately:

```toml
[[skills.sources]]
repo = "anthropic/skills"

[[skills.sources]]
path = "~/my-local-skills"
```

### Directory Structure

```
~/.ash/
├── skills/                    # User skills (manual)
├── skills.installed/          # External skills (managed)
│   ├── .sources.json          # Installation metadata
│   ├── github/owner__repo/    # Cloned repos
│   └── local/skill-name -> ~  # Symlinks to local paths
└── workspace/skills/          # Project skills
```

### Managing Installed Skills

```bash
# List configured sources
ash skill sources

# Sync all from config (useful on new machines)
ash skill sync

# Update repos to latest
ash skill update

# Remove a source
ash skill remove anthropic/skills
```

## Skill Formats

Skills can be defined in two formats:

### Directory Format (Preferred)

```
~/.ash/workspace/skills/
└── my-skill/
    ├── SKILL.md      # Required: skill definition
    ├── scripts/      # Optional: helper scripts
    ├── references/   # Optional: reference docs
    └── assets/       # Optional: other files
```

The skill name comes from the directory name.

### Flat File Format

```
~/.ash/workspace/skills/my-skill.md
```

The skill name comes from the filename.

## Skill Definition

Skills use markdown files with YAML frontmatter:

```markdown
---
description: What the skill does (required)
authors:
  - Your Name
rationale: Why this skill was created
env:
  - API_KEY
packages:
  - curl
  - jq
allowed_tools:
  - bash
  - web_search
model: haiku  # Optional model override
max_iterations: 10
---

## Instructions

Step-by-step instructions the agent will follow...

## Implementation

Details about how to accomplish the task...
```

## Frontmatter Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `description` | string | Yes | One-line description shown to the agent |
| `authors` | list | No | Who created/maintains this skill |
| `rationale` | string | No | Why this skill was created |
| `env` | list | No | Environment variables to inject from config |
| `packages` | list | No | System packages required (apt) |
| `allowed_tools` | list | No | Tools the skill can use (empty = all) |
| `model` | string | No | Model alias override for this skill |
| `max_iterations` | int | No | Iteration limit (default: 10) |

## Per-Skill Configuration

Configure individual skills in `config.toml`:

```toml
[skills.research]
enabled = true
PERPLEXITY_API_KEY = "pplx-..."

[skills.code-review]
model = "haiku"
enabled = false  # Disable this skill
```

Environment variables are auto-uppercased: `ha_token` becomes `HA_TOKEN`.

## Skill Instructions

The markdown body contains instructions the agent follows. Write them as clear, actionable steps:

```markdown
---
description: Search for code examples on GitHub
---

## Steps

1. Use `bash` to search GitHub with curl
2. Parse the JSON response with jq
3. Format the results as a markdown list

## Example Command

\`\`\`bash
curl -s "https://api.github.com/search/code?q=$query" \
  -H "Accept: application/vnd.github.v3+json"
\`\`\`

## Output Format

Return results as:
- **Repository**: owner/repo
- **Path**: file path
- **URL**: link to file
```

## Skill Registry

Location: `src/ash/skills/registry.py`

Skills are discovered from all sources:

```python
registry = SkillRegistry()
registry.discover(workspace_path)

skill = registry.get("my-skill")
available_skills = registry.list_available()
```

The registry tracks source type for each skill:

```python
skill.source_type  # SkillSourceType.WORKSPACE, INSTALLED, USER, BUNDLED
skill.source_repo  # "owner/repo" if installed from GitHub
skill.source_ref   # Git ref if pinned
```

## Creating Skills

### Using the CLI

```bash
# Create a new skill directory
ash skill init my-skill

# Create with description
ash skill init my-skill -d "Do something useful"

# Create with resource directories
ash skill init my-skill --resources scripts,references
```

### Manual Creation

1. Create directory: `~/.ash/workspace/skills/my-skill/`
2. Create `SKILL.md` with frontmatter and instructions
3. Add optional resource directories as needed

### Validating Skills

```bash
# Validate a skill file
ash skill validate ~/.ash/workspace/skills/my-skill

# List all available skills
ash skill list

# Show skill sources
ash skill list --source
```

## Skill Resources

Skills in directory format can include resource directories:

<FileTree>
- my-skill/
  - SKILL.md
  - scripts/
    - helper.sh
    - process.py
  - references/
    - api-docs.md
    - examples.json
  - assets/
    - template.txt
</FileTree>

Reference resources in instructions using relative paths from the skill directory.

## Example Skill

```markdown
---
description: Search and summarize GitHub issues
env:
  - GITHUB_TOKEN
allowed_tools:
  - bash
  - web_fetch
---

## Instructions

When asked to find GitHub issues:

1. Use bash to call the GitHub API:
   \`\`\`bash
   curl -s "https://api.github.com/repos/$owner/$repo/issues" \
     -H "Authorization: Bearer $GITHUB_TOKEN"
   \`\`\`

2. Parse the JSON response to extract:
   - Issue number
   - Title
   - State (open/closed)
   - Labels

3. Format as a markdown table

## Notes

- Respect rate limits (5000 requests/hour with auth)
- Filter by state using `?state=open` or `?state=closed`
```

## Compatibility

The skill format is compatible with:

- [Agent Skills spec](https://agentskills.io) - Standard skill format
- Vercel/Anthropic skill repos - Works with community skill repos
- skild.sh packages - Structure-compatible

<Aside type="tip">
  Skills are instruction-based, not script-based. Write clear steps the agent can follow using its available tools.
</Aside>
