---
title: Sandbox
description: Docker container isolation for secure command execution
sidebar:
  order: 6
---

import { Aside } from '@astrojs/starlight/components';

Ash executes bash commands inside Docker sandboxes. Host command execution is not used for tool calls.

## Configuration

```toml
[sandbox]
image = "ash-sandbox:latest"
timeout = 60
memory_limit = "512m"
cpu_limit = 1.0
runtime = "runc"
network_mode = "bridge"
dns_servers = []
http_proxy = ""
workspace_access = "rw"
sessions_access = "ro"
chats_access = "ro"
source_access = "none"
mount_prefix = "/ash"
apt_packages = []
python_packages = []
setup_command = ""
```

## Key Options

| Option | Default | Description |
|--------|---------|-------------|
| `runtime` | `runc` | Container runtime (`runc` or `runsc`) |
| `network_mode` | `bridge` | Network mode (`bridge` or `none`) |
| `workspace_access` | `rw` | Workspace mount mode (`none`, `ro`, `rw`) |
| `sessions_access` | `ro` | Sessions mount mode (`none`, `ro`) |
| `chats_access` | `ro` | Chats mount mode (`none`, `ro`) |
| `source_access` | `none` | Source mount mode (`none`, `ro`) |
| `mount_prefix` | `/ash` | Prefix for internal bind mount paths |

## Security Controls

- Read-only root filesystem
- Dropped Linux capabilities
- No-new-privileges
- Resource limits (CPU, memory, process count)
- Configurable network isolation

<Aside type="caution">
  `workspace_access = "rw"` allows tool commands to modify files in your mounted workspace.
</Aside>
