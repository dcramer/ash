---
title: ash db
description: Database management commands
sidebar:
  order: 8
---

Manage the SQLite database and migrations.

## Usage

```bash
uv run ash db COMMAND [OPTIONS]
```

## Commands

### migrate

Apply pending migrations:

```bash
uv run ash db migrate
```

### rollback

Rollback the last migration:

```bash
uv run ash db rollback
```

Options:
| Option | Default | Description |
|--------|---------|-------------|
| `--steps`, `-n` | 1 | Number of migrations to rollback |

### status

Show migration status:

```bash
uv run ash db status
```

Shows:
- Current revision
- Pending migrations
- Database path

## Examples

Apply all pending migrations:

```bash
uv run ash db migrate
```

Check current state:

```bash
uv run ash db status
```

Rollback last migration:

```bash
uv run ash db rollback
```

Rollback multiple migrations:

```bash
uv run ash db rollback --steps 3
```

## Database Location

Default: `~/.ash/memory.db`

Configure in `[memory].database_path`.
