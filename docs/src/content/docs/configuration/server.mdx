---
title: Server
description: Configure the HTTP server
sidebar:
  order: 6
---

Configure the FastAPI server for Telegram webhooks and health checks.

## Configuration

```toml
[server]
host = "127.0.0.1"
port = 8080
webhook_path = "/webhook"
```

## Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `host` | string | `"127.0.0.1"` | Bind address |
| `port` | int | `8080` | Port number |
| `webhook_path` | string | `"/webhook"` | Telegram webhook path |

## Running the Server

Start with default settings:

```bash
uv run ash serve
```

Override host and port:

```bash
uv run ash serve --host 0.0.0.0 --port 3000
```

## Endpoints

| Path | Method | Description |
|------|--------|-------------|
| `/health` | GET | Health check |
| `/webhook` | POST | Telegram webhook |

## Production Setup

For production, bind to all interfaces:

```toml
[server]
host = "0.0.0.0"
port = 8080
```

### Reverse Proxy

Use nginx or Caddy for TLS termination:

```nginx
server {
    listen 443 ssl;
    server_name your-domain.com;

    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;

    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### Webhook Configuration

Set the full webhook URL in Telegram config:

```toml
[telegram]
webhook_url = "https://your-domain.com/webhook"

[server]
webhook_path = "/webhook"
```

Start in webhook mode:

```bash
uv run ash serve --webhook
```
